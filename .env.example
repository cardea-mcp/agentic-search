# ===========================================
# Cardea Agentic Search Configuration
# ===========================================
# Copy this file to .env and fill in your actual values

# Server Configuration
# SOCKET_ADDR=127.0.0.1:8009

# Qdrant Vector Database Configuration
QDRANT_BASE_URL=http://127.0.0.1:6333
# QDRANT_API_KEY=your_qdrant_api_key_here  # Optional - leave empty for local Qdrant without authentication
# QDRANT_COLLECTION=my_collection  # Required for vector search modes - can be overridden by command line
# QDRANT_PAYLOAD_FIELD=full_text  # Required for vector search modes - can be overridden by command line

# TiDB Database Configuration
# Format: mysql://username:password@host:port/database
TIDB_CONNECTION=mysql://username:password@host:port/database
# TIDB_SSL_CA=/etc/ssl/cert.pem  # Required for TiDB modes - can be overridden by command line
# TIDB_TABLE_NAME=my_table  # Required for TiDB modes - can be overridden by command line

# TiDB Full-Text Search Field Configuration (optional)
# TIDB_SEARCH_FIELD=content  # Optional - field name for full-text search content (default: "content", can be overridden by command line)
# TIDB_RETURN_FIELD=*  # Optional - field names to return from TiDB query results, comma-separated (default: "*", can be overridden by command line)

# API Services Configuration
# CHAT_SERVICE_BASE_URL=https://api.openai.com/v1  # Optional - chat service base URL (can be overridden by command line)
# CHAT_SERVICE_API_KEY=your_chat_service_api_key  # Optional - leave empty if no API key required
# CHAT_SERVICE_MODEL=gpt-4  # Optional - specify the chat model name
# EMBEDDING_SERVICE_BASE_URL=https://api.openai.com/v1  # Optional - embedding service base URL (can be overridden by command line)
# EMBEDDING_SERVICE_API_KEY=your_embedding_service_api_key  # Optional - leave empty if no API key required
# EMBEDDING_SERVICE_MODEL=text-embedding-ada-002  # Optional - specify the embedding model name

# Keyword Extraction Prompt (optional)
# PROMPT_KEYWORD_EXTRACTOR=Extract the most relevant keywords from the following query for database search:

# Logging Configuration
RUST_LOG=info

# ===========================================
# Configuration Notes:
# ===========================================
#
# For Vector Search (Qdrant mode):
# - QDRANT_BASE_URL is required
# - QDRANT_COLLECTION is required (can be set via environment or command line)
# - QDRANT_PAYLOAD_FIELD is required (can be set via environment or command line)
# - QDRANT_API_KEY is optional (only needed for authenticated Qdrant instances)
# - EMBEDDING_SERVICE_BASE_URL is required (can be set via environment or command line)
# - EMBEDDING_SERVICE_API_KEY is optional (only needed if embedding service requires authentication)
# - EMBEDDING_SERVICE_MODEL is optional (specify the embedding model name)
#
# For Keyword Search (TiDB mode):
# - TIDB_CONNECTION is required
# - TIDB_SSL_CA is required (can be set via environment or command line)
# - TIDB_TABLE_NAME is required (can be set via environment or command line)
# - TIDB_SEARCH_FIELD is optional (default: "content")
# - TIDB_RETURN_FIELD is optional (default: "*", supports comma-separated field names)
# - CHAT_SERVICE_BASE_URL is required (can be set via environment or command line)
# - CHAT_SERVICE_API_KEY is optional (only needed if chat service requires authentication)
# - CHAT_SERVICE_MODEL is optional (specify the chat model name)
#
# For Combined Search mode:
# - QDRANT_BASE_URL, TIDB_CONNECTION are required
# - QDRANT_COLLECTION, QDRANT_PAYLOAD_FIELD are required (can be set via environment or command line)
# - QDRANT_API_KEY is optional
# - TIDB_SSL_CA, TIDB_TABLE_NAME are required (can be set via environment or command line)
# - TIDB_SEARCH_FIELD is optional (default: "content")
# - TIDB_RETURN_FIELD is optional (default: "*", supports comma-separated field names)
# - EMBEDDING_SERVICE_BASE_URL is required (can be set via environment or command line)
# - EMBEDDING_SERVICE_API_KEY is optional
# - EMBEDDING_SERVICE_MODEL is optional (specify model name)
# - CHAT_SERVICE_BASE_URL is required (can be set via environment or command line)
# - CHAT_SERVICE_API_KEY is optional
# - CHAT_SERVICE_MODEL is optional (specify model name)
#
# Configuration Priority (highest to lowest):
# 1. Environment variables
# 2. Command line arguments
# 3. Default values
#
# Optional configurations:
# - PROMPT_KEYWORD_EXTRACTOR: Custom prompt for keyword extraction (has built-in default)
# - EMBEDDING_SERVICE_MODEL: Specify the embedding model name (e.g., "text-embedding-ada-002")
# - CHAT_SERVICE_MODEL: Specify the chat model name (e.g., "gpt-4", "claude-3")
# - RUST_LOG: Logging level (default: info)
#
# SSL Certificate paths and table names can be provided via command line arguments
# or environment variables (TIDB_SSL_CA, TIDB_TABLE_NAME).
#
# TIDB_RETURN_FIELD Examples:
# - TIDB_RETURN_FIELD=* (return all fields - default)
# - TIDB_RETURN_FIELD=id,title,content (return specific fields)
# - TIDB_RETURN_FIELD="id, title, content" (with spaces - will be trimmed)
